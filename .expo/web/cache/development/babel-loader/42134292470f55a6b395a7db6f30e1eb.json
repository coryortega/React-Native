{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Navigation;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _stack = require(\"@react-navigation/stack\");\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _Themed = require(\"../components/Themed\");\n\nvar _NotFoundScreen = _interopRequireDefault(require(\"../screens/NotFoundScreen\"));\n\nvar _ModalScreen = _interopRequireDefault(require(\"../screens/ModalScreen\"));\n\nvar _BottomTabNavigator = _interopRequireDefault(require(\"./BottomTabNavigator\"));\n\nvar _LinkingConfiguration = _interopRequireDefault(require(\"./LinkingConfiguration\"));\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));\n\nvar _LoginButton = _interopRequireDefault(require(\"../components/LoginButton\"));\n\nvar _context2 = require(\"../components/context\");\n\nvar _jsxFileName = \"/Users/coryortega/Desktop/Projects/React-Native/navigation/index.tsx\";\n\nfunction Navigation(_ref) {\n  var colorScheme = _ref.colorScheme;\n\n  var _React$useState = React.useState(true),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      isLoading = _React$useState2[0],\n      setIsLoading = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n      userToken = _React$useState4[0],\n      setUserToken = _React$useState4[1];\n\n  var authContext = React.useMemo(function () {\n    return {\n      signIn: function signIn() {\n        setUserToken('fgdgf');\n        setIsLoading(false);\n      },\n      signOut: function signOut() {\n        setUserToken(null);\n        setIsLoading(false);\n      }\n    };\n  }, []);\n\n  var getData = function getData() {\n    var value;\n    return _regenerator.default.async(function getData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regenerator.default.awrap(_asyncStorage.default.getItem('token'));\n\n          case 3:\n            value = _context.sent;\n\n            if (!(value !== null)) {\n              _context.next = 6;\n              break;\n            }\n\n            return _context.abrupt(\"return\", value);\n\n          case 6:\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  React.useEffect(function () {\n    getData().then(function (res) {\n      console.log(res);\n      setUserToken(res);\n      setIsLoading(false);\n    }).catch(function (err) {\n      console.log(err);\n      setIsLoading(false);\n    });\n  }, []);\n\n  if (!userToken) {\n    return React.createElement(_Themed.View, {\n      style: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      __self: this,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }\n    }, React.createElement(_LoginButton.default, {\n      __self: this,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }));\n  }\n\n  return React.createElement(_context2.AuthContext.Provider, {\n    value: authContext,\n    __self: this,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, React.createElement(_native.NavigationContainer, {\n    linking: _LinkingConfiguration.default,\n    theme: colorScheme === 'dark' ? _native.DarkTheme : _native.DefaultTheme,\n    __self: this,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, React.createElement(RootNavigator, {\n    __self: this,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })));\n}\n\nvar Stack = (0, _stack.createStackNavigator)();\n\nfunction RootNavigator() {\n  return React.createElement(Stack.Navigator, {\n    screenOptions: {\n      headerShown: false\n    },\n    __self: this,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"Root\",\n    component: _BottomTabNavigator.default,\n    __self: this,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"NotFound\",\n    component: _NotFoundScreen.default,\n    options: {\n      title: 'Oops!'\n    },\n    __self: this,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"MyModal\",\n    component: _ModalScreen.default,\n    __self: this,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/coryortega/Desktop/Projects/React-Native/navigation/index.tsx"],"names":["Navigation","colorScheme","React","useState","isLoading","setIsLoading","userToken","setUserToken","authContext","useMemo","signIn","signOut","getData","AsyncStorage","getItem","value","console","log","useEffect","then","res","catch","err","flex","justifyContent","alignItems","LinkingConfiguration","DarkTheme","DefaultTheme","Stack","RootNavigator","headerShown","BottomTabNavigator","NotFoundScreen","title","ModalScreen"],"mappings":"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","sourcesContent":["import { NavigationContainer, DefaultTheme, DarkTheme } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport * as React from 'react';\nimport { ColorSchemeName } from 'react-native';\nimport { Text, View } from '../components/Themed';\nimport NotFoundScreen from '../screens/NotFoundScreen';\nimport ModalScreen from '../screens/ModalScreen';\nimport { RootStackParamList } from '../types';\nimport BottomTabNavigator from './BottomTabNavigator';\nimport LinkingConfiguration from './LinkingConfiguration';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport LoginButton from '../components/LoginButton';\nimport { AuthContext } from '../components/context';\n\n// If you are not familiar with React Navigation, we recommend going through the\n// \"Fundamentals\" guide: https://reactnavigation.org/docs/getting-started\n\nexport default function Navigation({ colorScheme }: { colorScheme: ColorSchemeName }) {\n  const [isLoading, setIsLoading] = React.useState(true);\n  const [userToken, setUserToken] = React.useState<any | null>(null);\n\n  const authContext = React.useMemo(() => ({\n    signIn: () => {\n      setUserToken('fgdgf');\n      setIsLoading(false);\n    },\n    signOut: () => {\n      setUserToken(null);\n      setIsLoading(false);\n    }\n  }), []);\n\n  const getData = async () => {\n    try {\n      const value = await AsyncStorage.getItem('token')\n      if(value !== null) {\n        return value\n      }\n    } catch(e) {\n      console.log(e)\n    }\n  }\n\n  React.useEffect(() => {\n    getData().then(res => {\n      console.log(res);\n      setUserToken(res)\n      setIsLoading(false);\n    }).catch(err => {\n      console.log(err)\n      setIsLoading(false)\n    })\n  }, [])\n\n  if(!userToken) {\n    return(\n    <View style={{flex:1,justifyContent:'center', alignItems:'center'}}>\n      <LoginButton/>\n    </View>\n    )\n  }\n\n  return (\n    <AuthContext.Provider value={authContext}>\n      <NavigationContainer\n        linking={LinkingConfiguration}\n        theme={colorScheme === 'dark' ? DarkTheme : DefaultTheme}>\n          \n        <RootNavigator />\n      </NavigationContainer>\n    </AuthContext.Provider>\n  );\n}\n\n// A root stack navigator is often used for displaying modals on top of all other content\n// Read more here: https://reactnavigation.org/docs/modal\nconst Stack = createStackNavigator<RootStackParamList>();\n\nfunction RootNavigator() {\n  return (\n    <Stack.Navigator screenOptions={{ headerShown: false }}>\n      <Stack.Screen name=\"Root\" component={BottomTabNavigator} />\n      <Stack.Screen name=\"NotFound\" component={NotFoundScreen} options={{ title: 'Oops!' }} />\n      <Stack.Screen name=\"MyModal\" component={ModalScreen} />\n    </Stack.Navigator>\n  );\n}\n"]},"metadata":{},"sourceType":"script"}